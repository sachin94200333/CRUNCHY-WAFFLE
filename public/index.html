<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crunchy Waffle | Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-yellow-50 font-sans">

    <div class="max-w-xl mx-auto mt-10 p-8 bg-white shadow-lg rounded-2xl border-t-8 border-yellow-600">
        <h2 class="text-3xl font-black mb-6 text-yellow-800 text-center">ðŸ§‡ CRUNCHY ADMIN</h2>
        
        <form id="waffleForm" class="space-y-4">
            <input type="text" id="name" placeholder="Waffle Name" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-yellow-500 outline-none" required>
            <input type="number" id="price" placeholder="Price (â‚¹)" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-yellow-500 outline-none" required>
            <textarea id="description" placeholder="Description (e.g. Loaded with Choco)" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-yellow-500 outline-none" required></textarea>
            <input type="text" id="image" placeholder="Image URL (Direct Link)" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-yellow-500 outline-none" required>
            
            <div class="bg-red-50 p-4 rounded-xl border border-red-100">
                <label class="block text-sm font-bold mb-1 text-red-700">Enter Admin Password:</label>
                <input type="password" id="adminPassword" placeholder="Required to Add/Remove" class="w-full p-2 border border-red-200 rounded-lg focus:ring-2 focus:ring-red-500 outline-none" required>
            </div>

            <button type="submit" class="w-full bg-yellow-600 text-white font-bold py-4 rounded-xl hover:bg-yellow-700 transition transform hover:scale-105 shadow-lg">
                ðŸš€ ADD TO MENU
            </button>
        </form>
    </div>

    <h2 class="text-center text-3xl font-bold mt-16 text-yellow-900">Our Delicious Menu</h2>

    <div id="menu" class="max-w-5xl mx-auto mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 p-4"></div>

    <script>
        const form = document.getElementById('waffleForm');

        async function loadWaffles() {
            const res = await fetch('/api/waffles');
            const data = await res.json();
            const menu = document.getElementById('menu');
            menu.innerHTML = data.map(w => `
                <div class="bg-white p-5 rounded-3xl shadow-xl border border-gray-100 flex flex-col justify-between">
                    <div>
                        <img src="${w.image}" class="h-52 w-full object-cover rounded-2xl mb-4" onerror="this.src='https://via.placeholder.com/300?text=Check+Image+Link'">
                        <h3 class="text-2xl font-bold text-gray-800">${w.name}</h3>
                        <p class="text-gray-500 text-sm mt-2 leading-relaxed">${w.description || 'Tasty Waffle'}</p>
                        <p class="text-yellow-700 font-black text