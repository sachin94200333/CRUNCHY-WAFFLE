<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crunchy Waffle | Premium Waffles</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #fcfcfc; }
        
        /* Hero Animation: Bada se Chota */
        @keyframes hero-zoom {
            0% { transform: scale(1.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        .hero-animate { animation: hero-zoom 1.5s ease-out forwards; }

        /* Waffle Card Hover */
        .waffle-card { transition: all 0.3s ease; border-radius: 15px; overflow: hidden; }
        .waffle-card:hover { transform: translateY(-10px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        
        .kfc-red { background-color: #e4002b; }
    </style>
</head>
<body>

    <nav class="bg-white shadow-sm sticky top-0 z-50 py-4 px-6 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <img src="https://cdn-icons-png.flaticon.com/512/2674/2674067.png" alt="Logo" class="h-10 w-10">
            <span class="font-bold text-xl text-gray-800 tracking-tight">CRUNCHY <span class="text-red-600">WAFFLE</span></span>
        </div>
        <div class="hidden md:flex gap-8 font-medium text-gray-700">
            <a href="#" class="hover:text-red-600">Menu</a>
            <a href="#about" class="hover:text-red-600">About Us</a>
            <a href="#contact" class="hover:text-red-600">Contact</a>
        </div>
        <a href="/admin.html" class="text-xs text-gray-300">Admin</a>
    </nav>

    <section class="relative h-[70vh] flex items-center justify-center bg-black overflow-hidden">
        <img src="https://images.unsplash.com/photo-1570696516188-ade861b84a49?q=80&w=2070&auto=format&fit=crop" 
             class="absolute inset-0 w-full h-full object-cover opacity-60 hero-animate" alt="Hero Waffle">
        <div class="relative text-center text-white px-4">
            <h1 class="text-5xl md:text-7xl font-bold mb-4">CRUNCHY DELIGHT</h1>
            <p class="text-lg md:text-xl mb-8">Experience the Best Waffles in Town</p>
            <a href="#menu" class="kfc-red text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-red-700 transition">START ORDER</a>
        </div>
    </section>

    <div class="bg-gray-100 py-6 text-center border-b">
        <p class="text-gray-500 uppercase tracking-widest text-sm mb-2 font-bold">Serving Happiness Since</p>
        <div id="clock" class="text-2xl md:text-4xl font-mono font-bold text-red-600">
            00 Days : 00 Hrs : 00 Min : 00 Sec
        </div>
    </div>

    <section id="menu" class="max-w-7xl mx-auto py-16 px-6">
        <h2 class="text-3xl font-bold mb-10 border-l-8 border-red-600 pl-4 uppercase">Browse Menu</h2>
        <div id="waffle-list" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8">
            </div>
    </section>

    <section id="about" class="bg-white py-16 px-6 border-t">
        <div class="max-w-5xl mx-auto text-center">
            <h2 class="text-3xl font-bold mb-12">MEET OUR TEAM</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="text-center">
                    <img src="https://via.placeholder.com/150" class="w-40 h-40 rounded-full mx-auto mb-4 border-4 border-red-600 object-cover" alt="CEO">
                    <h3 class="text-2xl font-bold">Sachin</h3>
                    <p class="text-red-600 font-medium">Founder & CEO</p>
                    <p class="text-gray-600 mt-4">"Humara sapna hai har gali mein Crunchy Waffle ka swad pahunchana."</p>
                </div>
                <div class="bg-gray-50 p-8 rounded-2xl text-left">
                    <h3 class="text-xl font-bold mb-4">Our Journey</h3>
                    <p class="text-gray-600 leading-relaxed">Crunchy Waffle ki shuruat ek chote se vision se hui thi. Aaj hum aapke pyaar ki wajah se grow kar rahe hain.</p>
                    <div class="mt-6">
                        <p class="font-bold">Head Chef: <span class="font-normal">Team Member 1</span></p>
                        <p class="font-bold">Manager: <span class="font-normal">Team Member 2</span></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-16 bg-gray-900 text-white">
        <div class="max-w-xl mx-auto px-6">
            <h2 class="text-3xl font-bold mb-8 text-center">Got Questions?</h2>
            <form id="messageForm" class="space-y-4">
                <input type="text" id="msgName" placeholder="Your Name" class="w-full p-4 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:border-red-600" required>
                <textarea id="msgText" placeholder="Your Message" class="w-full p-4 rounded bg-gray-800 border border-gray-700 h-32 focus:outline-none focus:border-red-600" required></textarea>
                <button type="submit" class="w-full kfc-red py-4 rounded font-bold hover:bg-red-700 transition">SEND MESSAGE</button>
            </form>
        </div>
    </section>

    <footer class="bg-black text-gray-500 py-10 text-center text-sm">
        <p>© 2026 Crunchy Waffle. All Rights Reserved.</p>
    </footer>

    <script>
        // --- 1. Load Waffles ---
        async function loadWaffles() {
            const res = await fetch('/api/waffles');
            const waffles = await res.json();
            const list = document.getElementById('waffle-list');
            list.innerHTML = waffles.map(w => `
                <div class="waffle-card bg-white border border-gray-100 shadow-sm">
                    <img src="${w.image}" class="w-full h-48 object-cover" alt="${w.name}">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">${w.name}</h3>
                        <p class="text-gray-500 text-sm mb-4 h-12 overflow-hidden">${w.description}</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="text-2xl font-bold text-red-600">₹${w.price}</span>
                            <a href="https://wa.me/918087749069?text=Hi, I want to order ${w.name}" 
                               target="_blank" 
                               class="bg-green-500 text-white px-4 py-2 rounded font-bold text-sm hover:bg-green-600 transition">
                               ORDER
                            </a>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- 2. Live Business Clock ---
        function updateClock() {
            const startDate = new Date("2025-01-01T00:00:00"); // Apni shuruat ki date yahan daalein
            const now = new Date();
            const diff = now - startDate;

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const mins = Math.floor((diff / (1000 * 60)) % 60);
            const secs = Math.floor((diff / 1000) % 60);

            document.getElementById('clock').innerText = 
                `${days} Days : ${hours < 10 ? '0'+hours : hours} Hrs : ${mins < 10 ? '0'+mins : mins} Min : ${secs < 10 ? '0'+secs : secs} Sec`;
        }

        // --- 3. Send Message ---
        document.getElementById('messageForm').onsubmit = async (e) => {
            e.preventDefault();
            const data = {
                name: document.getElementById('msgName').value,
                message: document.getElementById('msgText').value
            };
            const res = await fetch('/api/messages', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            if(res.ok) {
                alert("Message Sent! Hum aapse jald baat karenge.");
                e.target.reset();
            }
        };

        setInterval(updateClock, 1000);
        loadWaffles();
    </script>
</body>
</html>