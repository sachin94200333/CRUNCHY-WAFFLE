<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crunchy Waffle | The Crispy King</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @keyframes zoomUpDown { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .hero-zoom { animation: zoomUpDown 5s infinite ease-in-out; }
        .glass-card { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="bg-zinc-950 text-white font-sans">

    <header class="relative h-screen flex items-center justify-center overflow-hidden border-b-8 border-red-600">
        <div class="absolute inset-0 z-0">
            <img src="https://images.unsplash.com/photo-1562435503-903ba7ebaf78?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover opacity-40 hero-zoom">
        </div>
        <div class="relative z-10 text-center animate__animated animate__zoomIn">
            <h1 class="text-7xl md:text-9xl font-black italic text-red-600 drop-shadow-2xl">CRUNCHY WAFFLE</h1>
            <p class="text-xl md:text-2xl mt-4 tracking-[0.5em] font-light text-yellow-500 uppercase">Premium Belgian Taste</p>
        </div>
    </header>

    <section class="max-w-7xl mx-auto py-20 px-6">
        <h2 class="text-5xl font-black mb-16 italic border-l-8 border-red-600 pl-6 uppercase tracking-tighter">Our Menu</h2>
        <div id="waffle-list" class="grid grid-cols-1 md:grid-cols-3 gap-12">
            </div>
    </section>

    <section class="bg-zinc-900 py-24">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <h2 class="text-4xl font-black mb-20 italic">MEET THE SQUAD</h2>
            <div id="team-grid" class="grid grid-cols-1 md:grid-cols-3 gap-16"></div>
            <p id="journey-text" class="mt-20 text-zinc-500 italic text-xl max-w-4xl mx-auto border-t border-zinc-800 pt-10"></p>
        </div>
    </section>

    <script>
        async function loadSite() {
            // Waffles fetch
            const wRes = await fetch('/api/waffles');
            const waffles = await wRes.json();
            document.getElementById('waffle-list').innerHTML = waffles.map(w => `
                <div class="group relative bg-zinc-900 rounded-[2rem] overflow-hidden border border-zinc-800 hover:border-red-600 transition-all duration-500">
                    <img src="${w.image}" class="w-full h-80 object-cover group-hover:scale-110 transition duration-700">
                    <div class="p-8 bg-zinc-900/90 backdrop-blur-md">
                        <h3 class="text-3xl font-black italic uppercase">${w.name}</h3>
                        <p class="text-zinc-500 mt-2">${w.description}</p>
                        <div class="mt-8 flex justify-between items-center">
                            <span class="text-4xl font-black text-red-600">â‚¹${w.price}</span>
                            <button class="bg-red-600 text-white px-8 py-3 rounded-full font-bold hover:bg-white hover:text-red-600 transition-colors">ORDER NOW</button>
                        </div>
                    </div>
                </div>`).join('');

            // About fetch
            const aRes = await fetch('/api/about');
            const data = await aRes.json();
            const team = [
                { n: data.ceoName, p: data.ceoPhoto, r: 'The Visionary (CEO)', c: 'border-yellow-500' },
                { n: data.tm1Name, p: data.tm1Photo, r: 'Master Chef', c: 'border-red-600' },
                { n: data.tm2Name, p: data.tm2Photo, r: 'Manager', c: 'border-red-600' }
            ];
            document.getElementById('team-grid').innerHTML = team.map(m => `
                <div class="animate__animated animate__fadeInUp">
                    <img src="${m.p || 'https://via.placeholder.com/300'}" class="w-48 h-48 rounded-full mx-auto object-cover border-4 ${m.c} shadow-[0_0_30px_rgba(239,68,68,0.3)]">
                    <h4 class="text-2xl font-black mt-6 italic uppercase">${m.n || 'Coming Soon'}</h4>
                    <p class="text-red-600 font-bold tracking-widest text-sm uppercase mt-2">${m.r}</p>
                </div>`).join('');
            document.getElementById('journey-text').innerText = data.journey || "Since Day 1, we only cared about the CRUNCH.";
        }
        loadSite();
    </script>
</body>
</html>